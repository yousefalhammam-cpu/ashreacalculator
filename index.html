<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#0b1220" />
  <meta name="description" content="حاسبة التكييف والتهوية (CFM/ACH/TR) تعمل اونلاين و اوفلاين" />

  <link rel="manifest" href="./manifest.json" />
  <link rel="icon" href="./icons/icon-192.png" />
  <link rel="apple-touch-icon" href="./icons/icon-192.png" />

  <title>Air Calc Pro</title>
  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <header class="topbar">
    <div class="brand">
      <div class="logo">AC</div>
      <div class="titles">
        <div class="name">Air Calc Pro</div>
        <div class="sub">HVAC • Ventilation • Offline Ready</div>
      </div>
    </div>
    <div class="status">
      <span id="netDot" class="dot"></span>
      <span id="netText">...</span>
    </div>
  </header>

  <main class="container">
    <section class="card">
      <h2>الإدخالات</h2>

      <div class="grid">
        <label class="field">
          <span class="label">نوع الغرفة (ASHRAE) — اختياري</span>
          <select id="roomType">
            <option value="">اختر…</option>
            <option value="Isolation Room">Isolation Room</option>
            <option value="Patient Room">Patient Room</option>
            <option value="Toilet">Toilet</option>
            <option value="Office">Office</option>
            <option value="Corridor">Corridor</option>
            <option value="Lab">Lab</option>
          </select>
        </label>

        <label class="field">
          <span class="label">اسم الغرفة — اختياري</span>
          <input id="roomName" type="text" placeholder="مثال: Isolation Room 1.3.2.1" />
        </label>

        <label class="field">
          <span class="label">حجم الغرفة (m³)</span>
          <input id="volumeM3" type="number" inputmode="decimal" step="0.01" placeholder="مثال: 60" />
        </label>

        <label class="field">
          <span class="label">ACH المطلوب</span>
          <input id="ach" type="number" inputmode="decimal" step="0.1" placeholder="مثال: 12" />
        </label>

        <label class="field">
          <span class="label">Rule of Thumb (CFM/TR)</span>
          <select id="cfmPerTR">
            <option value="350">350</option>
            <option value="400" selected>400</option>
            <option value="450">450</option>
          </select>
        </label>

        <label class="field">
          <span class="label">Pressure Offset (%) — اختياري</span>
          <input id="pressureOffset" type="number" inputmode="decimal" step="1" placeholder="مثال: 10" />
        </label>

        <div class="actions">
          <button id="btnCalc" class="btn primary">احسب</button>
          <button id="btnReset" class="btn ghost">مسح</button>
        </div>
      </div>
    </section>

    <section class="card">
      <h2>النتائج</h2>

      <div class="results">
        <div class="metric">
          <div class="k">CFM (من ACH)</div>
          <div class="v" id="outCfm">—</div>
          <div class="hint">CFM = (ACH × m³) / 1.699</div>
        </div>

        <div class="metric">
          <div class="k">L/s</div>
          <div class="v" id="outLs">—</div>
          <div class="hint">1 CFM ≈ 0.4719 L/s</div>
        </div>

        <div class="metric">
          <div class="k">m³/h</div>
          <div class="v" id="outM3h">—</div>
          <div class="hint">m³/h = ACH × m³</div>
        </div>

        <div class="metric">
          <div class="k">TR (Rule of Thumb)</div>
          <div class="v" id="outTr">—</div>
          <div class="hint">TR ≈ CFM / (CFM per TR)</div>
        </div>

        <div class="metric">
          <div class="k">Pressure Offset Applied (CFM)</div>
          <div class="v" id="outCfmOffset">—</div>
          <div class="hint">CFM × (1 + Offset%)</div>
        </div>
      </div>

      <div class="note" id="note"></div>
    </section>

    <section class="card">
      <h2>قراءات ميدانية (اختياري)</h2>
      <div class="grid">
        <label class="field">
          <span class="label">Measured Airflow (CFM)</span>
          <input id="measCfm" type="number" step="0.1" placeholder="مثال: 313" />
        </label>

        <label class="field">
          <span class="label">Measured Pressure (Pa)</span>
          <input id="measPa" type="number" step="0.1" placeholder="مثال: -10" />
        </label>

        <label class="field">
          <span class="label">Measured Temp (°C)</span>
          <input id="measTemp" type="number" step="0.1" placeholder="مثال: 20.6" />
        </label>

        <label class="field">
          <span class="label">Measured RH (%)</span>
          <input id="measRh" type="number" step="0.1" placeholder="مثال: 45" />
        </label>

        <div class="actions">
          <button id="btnCompare" class="btn">قارن بالمطلوب</button>
        </div>
      </div>

      <div class="compare" id="compareBox"></div>
    </section>

    <footer class="footer">
      <span>© Air Calc Pro</span>
      <span class="sep">•</span>
      <a href="#" id="installBtn" class="install hidden">تثبيت التطبيق</a>
    </footer>
  </main>

  <script src="./app.js"></script>
</body>
</html>