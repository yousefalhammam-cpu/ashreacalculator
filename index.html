<!DOCTYPE html>
<html lang="ar" dir="rtl" id="html-tag">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no" />
  <title>Air Calc Pro</title>
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Header (ุฃุตุบุฑ ููุชูุฑูุฒ) -->
  <header class="app-header">
    <div class="app-header-inner">
      <div class="app-title">Air Calc Pro</div>
      <div class="app-subtitle">HVAC Engineering Suite</div>
    </div>
  </header>

  <main class="app-shell">
    <!-- Calculator Tab -->
    <section id="calc-tab" class="tab-panel active">
      <div class="calc-card">
        <div class="result-strip">
          <span id="tr-result">TR 0.00</span>
          <span class="divider">|</span>
          <span id="cfm-result">CFM 0</span>
          <span class="divider">|</span>
          <span id="btu-result">BTU/h 0</span>
        </div>

        <div id="suggested-btu" class="sub-result">ุงูููุชุฑุญ: 0 BTU</div>

        <div id="display-wrap" class="display-wrap" onclick="focusField('display')">
          <div id="display" class="display-value active-field">0</div>
        </div>
        <div class="display-label" data-ar="ุญุฌู ุงูุบุฑูุฉ (mยณ)" data-en="Room Volume (mยณ)">ุญุฌู ุงูุบุฑูุฉ (mยณ)</div>

        <div id="mode-badge" class="mode-badge">---</div>

        <div class="inputs-row">
          <div class="input-col room-col">
            <label data-ar="ุชุตููู ุงูุบุฑูุฉ" data-en="Room Type">ุชุตููู ุงูุบุฑูุฉ</label>
            <select id="room-select" onchange="onRoomChange()"></select>
          </div>
          <div class="input-col">
            <label data-ar="ุฃุดุฎุงุต" data-en="People">ุฃุดุฎุงุต</label>
            <input id="people-count" type="text" value="0" readonly onclick="focusField('people')" />
          </div>
          <div class="input-col">
            <label data-ar="ุฃุฌูุฒุฉ (W)" data-en="Equip (W)">ุฃุฌูุฒุฉ (W)</label>
            <input id="equip-watts" type="text" value="0" readonly onclick="openEquipModal()" />
          </div>
        </div>

        <div class="chips-row">
          <span id="chip-standard" class="chip">---</span>
          <span id="chip-ach" class="chip">ACH: 0</span>
          <span id="chip-duct" class="chip">Duct: --</span>
        </div>

        <!-- Keypad (ูุฑุจุนุงุช ูุซู ุงูุดูู ุงูุณุงุจู) -->
        <div class="keypad-grid">
          <button class="btn btn-light" onclick="clearActiveField()">AC</button>
          <button class="btn btn-light" onclick="deleteLast()">DEL</button>
          <button class="btn btn-accent" onclick="calculateLoad(false)" data-ar="ุงุญุณุจ" data-en="CALC">ุงุญุณุจ</button>
          <button class="btn btn-accent" onclick="calculateLoad(true)">=</button>

          <button class="btn btn-dark" onclick="press(7)">7</button>
          <button class="btn btn-dark" onclick="press(8)">8</button>
          <button class="btn btn-dark" onclick="press(9)">9</button>
          <button class="btn btn-accent" onclick="focusField('people')" data-ar="ุฃุดุฎุงุต" data-en="People">ุฃุดุฎุงุต</button>

          <button class="btn btn-dark" onclick="press(4)">4</button>
          <button class="btn btn-dark" onclick="press(5)">5</button>
          <button class="btn btn-dark" onclick="press(6)">6</button>
          <button class="btn btn-accent" onclick="openEquipModal()" data-ar="ุฃุฌูุฒุฉ" data-en="Equip">ุฃุฌูุฒุฉ</button>

          <button class="btn btn-dark" onclick="press(1)">1</button>
          <button class="btn btn-dark" onclick="press(2)">2</button>
          <button class="btn btn-dark" onclick="press(3)">3</button>
          <button class="btn btn-dark" onclick="press('.')">.</button>

          <button class="btn btn-dark wide" onclick="press(0)">0</button>
        </div>

        <div class="history-box">
          <div class="history-head">
            <span data-ar="ุณุฌู ุงูุญุณุงุจุงุช" data-en="Calculation History">ุณุฌู ุงูุญุณุงุจุงุช</span>
            <button class="mini-btn" onclick="clearHistory()" data-ar="ูุณุญ" data-en="Clear">ูุณุญ</button>
          </div>
          <div id="history-list"></div>
        </div>
      </div>
    </section>

    <!-- Export Tab -->
    <section id="export-tab" class="tab-panel">
      <div class="page-card">
        <h2 data-ar="ุงูุชุตุฏูุฑ" data-en="Export">ุงูุชุตุฏูุฑ</h2>
        <p data-ar="ุชุตุฏูุฑ ุณุฌู ุงูุญุณุงุจุงุช ุจุตูุบุฉ CSV ุฃู JSON." data-en="Export calculation history as CSV or JSON.">
          ุชุตุฏูุฑ ุณุฌู ุงูุญุณุงุจุงุช ุจุตูุบุฉ CSV ุฃู JSON.
        </p>
        <div class="stack-actions">
          <button class="full-btn" onclick="exportCSV()" data-ar="ุชุตุฏูุฑ CSV" data-en="Export CSV">ุชุตุฏูุฑ CSV</button>
          <button class="full-btn" onclick="exportJSON()" data-ar="ุชุตุฏูุฑ JSON" data-en="Export JSON">ุชุตุฏูุฑ JSON</button>
        </div>
      </div>
    </section>

    <!-- AI Assistant Tab -->
    <section id="assistant-tab" class="tab-panel">
      <div class="page-card">
        <h2 data-ar="ุงููุณุงุนุฏ" data-en="Assistant">ุงููุณุงุนุฏ</h2>
        <p data-ar="ูุฐู ุตูุญุฉ ุงููุณุงุนุฏ ุงูุฐูู ุฏุงุฎู ุงูุชุทุจูู. ุชูุฏุฑ ูุงุญููุง ุชุฑุจุทูุง ุจู API ูุชูุตูุงุช ุงูุฃูุธูุฉ ูุงูุชุฌููุฒุงุช ูุงูุฃุณุนุงุฑ."
           data-en="This is the in-app AI assistant page. Later you can connect it to an API for system, equipment, and pricing recommendations.">
          ูุฐู ุตูุญุฉ ุงููุณุงุนุฏ ุงูุฐูู ุฏุงุฎู ุงูุชุทุจูู. ุชูุฏุฑ ูุงุญููุง ุชุฑุจุทูุง ุจู API ูุชูุตูุงุช ุงูุฃูุธูุฉ ูุงูุชุฌููุฒุงุช ูุงูุฃุณุนุงุฑ.
        </p>
        <div class="ai-box">
          <div class="ai-label" data-ar="ุงูุชุฑุงุญุงุช ูุณุชูุจููุฉ" data-en="Future ideas">ุงูุชุฑุงุญุงุช ูุณุชูุจููุฉ</div>
          <ul>
            <li data-ar="ุงูุชุฑุงุญ ููุน ุงููููู ุงูููุงุณุจ ุญุณุจ ุงูุญูู" data-en="Suggest AC type based on load">ุงูุชุฑุงุญ ููุน ุงููููู ุงูููุงุณุจ ุญุณุจ ุงูุญูู</li>
            <li data-ar="ุงูุชุฑุงุญ BTU / TR ุงูุชุฌุงุฑูุฉ ุงููุฑูุจุฉ ูู ุงูุณูู" data-en="Suggest market BTU/TR sizes">ุงูุชุฑุงุญ BTU / TR ุงูุชุฌุงุฑูุฉ ุงููุฑูุจุฉ ูู ุงูุณูู</li>
            <li data-ar="ุฑุจุท ูุฑุงุกุฉ ุญุณุงุณุงุช (ุญุฑุงุฑุฉ/ุฑุทูุจุฉ)" data-en="Integrate sensor readings (Temp/RH)">ุฑุจุท ูุฑุงุกุฉ ุญุณุงุณุงุช (ุญุฑุงุฑุฉ/ุฑุทูุจุฉ)</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Contact Tab -->
    <section id="contact-tab" class="tab-panel">
      <div class="page-card">
        <h2 data-ar="ุชูุงุตู ูุนูุง" data-en="Contact Us">ุชูุงุตู ูุนูุง</h2>
        <p data-ar="Air Calc Pro ุชุทุจูู ููุฏุณู ูุณุงุนุฏ ุนูู ุชูุฏูุฑ ุงูุฃุญูุงู ุงูููุงุฆูุฉ ูุงูุชุจุฑูุฏูุฉ ุจุณุฑุนุฉุ ูุน ุชุตููู ุบุฑู ุตุญู/ุชุฌุงุฑู/ุณูููุ ูุฏุนู ACH ู CFM ู TR ูBTU ุจุทุฑููุฉ ุนูููุฉ."
           data-en="Air Calc Pro is an engineering app that helps estimate airflow and cooling loads quickly, with healthcare/commercial/residential room categories and practical ACH, CFM, TR, and BTU support.">
          Air Calc Pro ุชุทุจูู ููุฏุณู ูุณุงุนุฏ ุนูู ุชูุฏูุฑ ุงูุฃุญูุงู ุงูููุงุฆูุฉ ูุงูุชุจุฑูุฏูุฉ ุจุณุฑุนุฉุ ูุน ุชุตููู ุบุฑู ุตุญู/ุชุฌุงุฑู/ุณูููุ ูุฏุนู ACH ู CFM ู TR ูBTU ุจุทุฑููุฉ ุนูููุฉ.
        </p>

        <div class="contact-list">
          <div class="contact-item"><strong data-ar="ุงูุงุณู:" data-en="Name:">ุงูุงุณู:</strong> ู. ููุณู ุงู ููุงู</div>
          <div class="contact-item"><strong data-ar="ุงูุฌูุงู:" data-en="Mobile:">ุงูุฌูุงู:</strong> 0560282701</div>
          <div class="contact-item"><strong data-ar="ุงูุจุฑูุฏ:" data-en="Email:">ุงูุจุฑูุฏ:</strong> Yousef.alhammam@live.com</div>
        </div>

        <div class="made-in-sa" data-ar="ุตูุน ูู ุงูุณุนูุฏูุฉ ๐ธ๐ฆ" data-en="Made in Saudi Arabia ๐ธ๐ฆ">ุตูุน ูู ุงูุณุนูุฏูุฉ ๐ธ๐ฆ</div>
      </div>
    </section>

    <!-- Settings Tab -->
    <section id="settings-tab" class="tab-panel">
      <div class="page-card">
        <h2 data-ar="ุงูุฅุนุฏุงุฏุงุช" data-en="Settings">ุงูุฅุนุฏุงุฏุงุช</h2>
        <div class="settings-row">
          <span data-ar="ุงููุบุฉ" data-en="Language">ุงููุบุฉ</span>
          <button class="small-action" onclick="toggleLanguage()">
            <span id="lang-text">English</span>
          </button>
        </div>
        <div class="settings-row">
          <span data-ar="ุชุตููุฑ ูู ุงููุฏุฎูุงุช" data-en="Reset all inputs">ุชุตููุฑ ูู ุงููุฏุฎูุงุช</span>
          <button class="small-action danger" onclick="resetAllFields()" data-ar="ุชุตููุฑ" data-en="Reset">ุชุตููุฑ</button>
        </div>
      </div>
    </section>
  </main>

  <!-- Equipment Modal -->
  <div id="equip-modal" class="modal">
    <div class="modal-content">
      <div class="modal-head">
        <h3 data-ar="ูุงุฆูุฉ ุงูุฃุฌูุฒุฉ" data-en="Equipment List">ูุงุฆูุฉ ุงูุฃุฌูุฒุฉ</h3>
        <button class="mini-btn" onclick="closeEquipModal()" data-ar="ุฅุบูุงู" data-en="Close">ุฅุบูุงู</button>
      </div>
      <div id="equip-checklist"></div>
      <button class="full-btn" onclick="closeEquipModal()" data-ar="ุชู" data-en="Done">ุชู</button>
    </div>
  </div>

  <!-- Bottom Nav -->
  <nav class="bottom-nav">
    <button class="nav-item active" onclick="switchTab('calc-tab', this)">
      <i>๐งฎ</i><span data-ar="ุงูุญุงุณุจุฉ" data-en="Calculator">ุงูุญุงุณุจุฉ</span>
    </button>
    <button class="nav-item" onclick="switchTab('export-tab', this)">
      <i>๐ค</i><span data-ar="ุงูุชุตุฏูุฑ" data-en="Export">ุงูุชุตุฏูุฑ</span>
    </button>
    <button class="nav-item" onclick="switchTab('assistant-tab', this)">
      <i>๐ค</i><span data-ar="ุงููุณุงุนุฏ" data-en="Assistant">ุงููุณุงุนุฏ</span>
    </button>
    <button class="nav-item" onclick="switchTab('contact-tab', this)">
      <i>๐</i><span data-ar="ุชูุงุตู" data-en="Contact">ุชูุงุตู</span>
    </button>
    <button class="nav-item" onclick="switchTab('settings-tab', this)">
      <i>โ๏ธ</i><span data-ar="ุงูุฅุนุฏุงุฏุงุช" data-en="Settings">ุงูุฅุนุฏุงุฏุงุช</span>
    </button>
  </nav>

  <script src="app.js"></script>
</body>
</html>