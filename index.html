<!DOCTYPE html>
<html lang="ar" dir="rtl" id="html-tag">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no, viewport-fit=cover">
    <title>Air Calc Pro - HVAC Suite</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
</head>
<body>
    <header class="simple-header">Air Calc Pro | Engineering Tools</header>

    <main id="main-content">
        <section id="calc-tab" class="tab-panel active">
            <div class="ios-calc-wrapper">
                <div class="calc-screen">
                    <div id="unit-label">0 CFM | 0 TR</div>
                    <div id="display" class="active-field" onclick="focusField('display')">0</div>
                    <div id="field-hint">ุญุฌู ุงูุบุฑูุฉ (mยณ)</div>
                </div>
                
                <div class="horizontal-inputs">
                    <div class="input-box room-box">
                        <label>ููุน ุงูููุดุฃุฉ (ASHRAE)</label>
                        <select id="room-select" onchange="resetForNewRoom()"></select>
                    </div>
                    <div class="input-box small-box">
                        <label>ุฃุดุฎุงุต</label>
                        <input type="text" id="people-count" value="0" readonly onclick="focusField('people')">
                    </div>
                    <div class="input-box small-box">
                        <label>ุฃุฌูุฒุฉ (W)</label>
                        <div class="equip-trigger" onclick="openEquipModal()">
                            <input type="text" id="equip-watts" value="0" readonly>
                            <span class="plus-icon">+</span>
                        </div>
                    </div>
                </div>

                <div class="ios-grid">
                    <button class="btn-light-grey" onclick="clearActiveField()">AC</button>
                    <button class="btn-light-grey" onclick="deleteLast()">DEL</button>
                    <button class="btn-orange" onclick="calculateLoad(true)">CALC</button>
                    <button class="btn-orange" onclick="calculateLoad(true)">=</button>
                    
                    <button class="btn-dark-grey" onclick="press(7)">7</button>
                    <button class="btn-dark-grey" onclick="press(8)">8</button>
                    <button class="btn-dark-grey" onclick="press(9)">9</button>
                    <button class="btn-orange" onclick="clearActiveField()">C</button>
                    <button class="btn-dark-grey" onclick="press(4)">4</button>
                    <button class="btn-dark-grey" onclick="press(5)">5</button>
                    <button class="btn-dark-grey" onclick="press(6)">6</button>
                    <button class="btn-dark-grey" onclick="press('.')">.</button>
                    <button class="btn-dark-grey" onclick="press(1)">1</button>
                    <button class="btn-dark-grey" onclick="press(2)">2</button>
                    <button class="btn-dark-grey" onclick="press(3)">3</button>
                    <button class="btn-dark-grey" onclick="press(0)">0</button>
                </div>

                <div class="history-section">
                    <div class="history-container">
                        <table class="history-table"><tbody id="history-body"></tbody></table>
                    </div>
                    <div class="export-actions">
                        <button class="ios-exp" onclick="exportPDF()">PDF</button>
                        <button class="ios-exp" onclick="exportExcel()">Excel</button>
                        <button class="ios-exp clear-btn" onclick="clearHistory()">ูุณุญ</button>
                    </div>
                </div>
            </div>
        </section>

        <section id="duct-tab" class="tab-panel">
            <div class="ios-card" style="max-width: 400px; margin: 0 auto; padding: 20px;">
                <h2 style="text-align:center; color: var(--ios-orange);">Duct Sizer</h2>
                <div class="ios-input-group" style="margin-bottom:15px;">
                    <label>CFM</label>
                    <input type="number" id="targetCFM">
                </div>
                <div class="ios-input-group" style="margin-bottom:20px;">
                    <label>Fixed Width (Inch)</label>
                    <input type="number" id="fixWidth" value="12">
                </div>
                <button class="btn-orange" style="width:100%; height:50px; border-radius:12px;" onclick="runDuctCalc()">ุงุญุณุจ ุงูููุงุณ</button>
                <div id="duct-result" class="result-highlight">---</div>
            </div>
        </section>
    </main>

    <div id="equip-modal" class="modal">
        <div class="modal-content equip-list-content">
            <h3>ุงุฎุชุฑ ุงูุฃุฌูุฒุฉ ุงูููุฌูุฏุฉ</h3>
            <div id="equip-checklist" class="checklist-container"></div>
            <button class="close-modal-btn" onclick="closeEquipModal()">ุชุฃููุฏ</button>
        </div>
    </div>

    <div id="contact-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ุญูู ุงูุชุทุจูู</h2>
                <p>ุฃุฏุงุฉ ููุฏุณูุฉ ูุญุณุงุจ ุฃุญูุงู ุงูุชุจุฑูุฏ ููู ูุนุงููุฑ <strong>ASHRAE 170</strong> ู <strong>ASHRAE 62.1</strong> ูุฏูุฉ ุนุงููุฉ ูู ุชูุฏูุฑ TR ู CFM.</p>
            </div>
            <hr style="border: 0.5px solid #333; margin: 15px 0;">
            <div class="contact-info">
                <h3>ุชูุงุตู ูุน ุงููุทูุฑ</h3>
                <p>๐ 0560282701</p>
                <p>๐ง yousef.alhammam@live.com</p>
            </div>
            <button class="close-modal-btn" onclick="closeContact()">ุฅุบูุงู</button>
        </div>
    </div>

    <nav class="bottom-nav">
        <button class="nav-item active" onclick="switchTab('calc-tab', this)"><i>๐งฎ</i><span>ุงูุญุงุณุจุฉ</span></button>
        <button class="nav-item" onclick="switchTab('duct-tab', this)"><i>๐</i><span>ุงูุฏูุช</span></button>
        <button class="nav-item" onclick="openContact()"><i>๐ค</i><span>ุชูุงุตู</span></button>
        <button class="nav-item" onclick="toggleLanguage()"><i>๐</i><span>English</span></button>
    </nav>

    <script src="app.js"></script>
</body>
</html>
