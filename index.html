<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
    <title>Air Calc Pro</title>
    <link rel="manifest" href="manifest.webmanifest">
    <link rel="stylesheet" href="styles.css">
    <meta name="theme-color" content="#0b1220">
</head>
<body>
    <header>
        <img src="icons/icon-128x128.png" class="app-logo" alt="Air Calc Pro">
        <h1>Air Calc Pro</h1>
    </header>

    <nav class="tabs">
        <button class="tab-btn active" onclick="showTab('calc-section')">ุงูุญุณุงุจุงุช</button>
        <button class="tab-btn" onclick="showTab('duct-section')">ุงูุฏูุช</button>
        <button class="tab-btn" onclick="showTab('forum-section')">ุงููุฌุชูุน</button>
    </nav>

    <main>
        <section id="calc-section" class="tab-content active">
            <div class="card">
                <button class="scan-btn" onclick="runARScan()">๐ธ ูุณุญ ุงูุบุฑูุฉ ุฐููุงู</button>
                <div id="scanMsg"></div>
                <div class="input-grid">
                    <input type="number" id="L" placeholder="ุงูุทูู (ู)">
                    <input type="number" id="W" placeholder="ุงูุนุฑุถ (ู)">
                    <input type="number" id="H" placeholder="ุงูุงุฑุชูุงุน (ู)">
                </div>
                <select id="usage" class="select-field">
                    <option value="standard">ููุงุชุจ/ุณูู (6 ACH)</option>
                    <option value="or">ุบุฑูุฉ ุนูููุงุช (20 ACH)</option>
                </select>
                <button class="primary-btn" onclick="doHvacCalc()">ุงุญุณุจ ุงูุขู</button>
            </div>
            <div id="resDisplay" class="res-container" style="display:none;"></div>
        </section>

        <section id="duct-section" class="tab-content">
            <div class="card">
                <h3>ุชุตููู ูุฌุงุฑู ุงูููุงุก</h3>
                <input type="number" id="cfm" class="input-field" placeholder="ูููุฉ ุงูููุงุก (CFM)">
                <input type="number" id="ductWidth" class="input-field" value="12" placeholder="ุงูุนุฑุถ (ุจูุตุฉ)">
                <button class="primary-btn" onclick="doDuctCalc()">ุญุณุงุจ ุงูููุงุณ</button>
                <div id="ductRes" class="res-item" style="display:none;"></div>
            </div>
        </section>

        <section id="forum-section" class="tab-content">
            <div class="card">
                <h3>๐ฌ ุณุงุญุฉ ููุงุด ุงููููุฏุณูู</h3>
                <div id="chatArea" class="chat-box">
                    <div class="chat-msg"><strong>ู. ุนูู:</strong> ูุง ูู ูุนูุงุฑ ุงูููุชุฑุฉ ูุบุฑู ุงูุนุฒูุ</div>
                </div>
                <div class="chat-input-row">
                    <input type="text" id="newMsg" placeholder="ุงูุชุจ ุงุณุชูุณุงุฑู...">
                    <button onclick="postToForum()">ุฅุฑุณุงู</button>
                </div>
            </div>
        </section>
    </main>

    <script src="app.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js');
        }
    </script>
</body>
</html>
