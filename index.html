<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#0b1220" />
  <title>Air Calc Pro</title>

  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="icon" href="icons/icon-192.png" />
  <style>
    :root{
      --bg:#0b1220;
      --card: rgba(15,23,42,.52);
      --line: rgba(255,255,255,.12);
      --muted: rgba(255,255,255,.72);
      --txt: rgba(255,255,255,.92);
      --shadow: 0 10px 28px rgba(0,0,0,.35);
      --r:18px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: var(--sans);
      color: var(--txt);
      background:
        radial-gradient(900px 600px at 20% 0%, rgba(56,189,248,.14), transparent 60%),
        radial-gradient(900px 600px at 80% 20%, rgba(167,139,250,.12), transparent 60%),
        radial-gradient(900px 600px at 60% 90%, rgba(34,197,94,.08), transparent 60%),
        var(--bg);
    }
    .wrap{ max-width:980px; margin:0 auto; padding:14px 12px 92px; }

    .topbar{
      display:flex; align-items:center; justify-content:space-between;
      gap:10px; flex-wrap:wrap;
      margin: 8px 0 12px;
    }
    .brand{ display:flex; flex-direction:column; gap:4px; }
    .brand .title{ font-weight:900; letter-spacing:.2px; font-size:18px; }
    .brand .sub{
      font-size:12px; color: var(--muted);
      display:flex; gap:8px; flex-wrap:wrap;
    }
    .pill{
      border:1px solid var(--line);
      background: rgba(255,255,255,.06);
      padding:5px 10px;
      border-radius: 999px;
      font-size:12px;
      color: var(--muted);
      width:fit-content;
    }

    .card{
      border:1px solid var(--line);
      border-radius: var(--r);
      background: var(--card);
      backdrop-filter: blur(12px);
      box-shadow: var(--shadow);
      padding: 12px;
    }
    .grid{ display:grid; gap:10px; }
    .grid2{ display:grid; gap:10px; grid-template-columns: 1fr 1fr; }
    .grid3{ display:grid; gap:10px; grid-template-columns: 1fr 1fr 1fr; }
    @media (max-width:720px){ .grid2,.grid3{ grid-template-columns: 1fr; } }

    label{ display:block; font-size:12px; color: var(--muted); margin-bottom:6px; }
    .input, select, button{
      width:100%;
      border:1px solid var(--line);
      background: rgba(2,6,23,.35);
      color: var(--txt);
      padding: 11px 12px;
      border-radius: 14px;
      outline:none;
      font-size:14px;
    }
    select{ cursor:pointer; }
    .btn{ cursor:pointer; font-weight:900; background: rgba(255,255,255,.08); }
    .btnPrimary{ background: rgba(56,189,248,.16); border-color: rgba(56,189,248,.24); }
    .btnDanger{ background: rgba(239,68,68,.14); border-color: rgba(239,68,68,.22); }

    .muted{ color: var(--muted); font-size:12px; }
    .mono{ font-family: var(--mono); }
    .tabPage{ display:none; }
    .tabPage.active{ display:block; }
    .h2{ font-size:16px; font-weight:900; margin: 6px 0 8px; }
    .divider{ height:1px; background: var(--line); margin: 10px 0; }

    .list{ display:flex; flex-direction:column; gap:10px; margin-top:10px; }
    .item{
      border:1px solid var(--line);
      border-radius: 16px;
      background: rgba(2,6,23,.25);
      padding: 10px 10px 12px;
    }
    .itemTop{
      display:flex; justify-content:space-between; gap:10px; align-items:start; flex-wrap:wrap;
    }
    .itemTitle{ font-weight:900; font-size:14px; }
    .itemSub{ font-size:12px; color: var(--muted); margin-top:3px; }

    .kv{
      display:grid; gap:8px; margin-top:10px;
      grid-template-columns: repeat(2, minmax(0,1fr));
    }
    .kv3{
      display:grid; gap:8px; margin-top:10px;
      grid-template-columns: repeat(3, minmax(0,1fr));
    }
    @media (max-width:520px){
      .kv{ grid-template-columns: 1fr; }
      .kv3{ grid-template-columns: 1fr; }
    }
    .k{
      border:1px solid var(--line);
      border-radius: 14px;
      padding: 9px 10px;
      background: rgba(15,23,42,.35);
    }
    .k .kk{ font-size:12px; color: var(--muted); }
    .k .vv{ font-size:16px; font-weight:900; margin-top:3px; }
    .k .uu{ font-size:12px; color: var(--muted); font-weight:700; margin-inline-start:6px; }

    .bottomNav{
      position:fixed;
      left:10px; right:10px; bottom:10px;
      display:flex; gap:8px;
      border:1px solid var(--line);
      border-radius: 18px;
      padding:8px;
      background: rgba(15,23,42,.70);
      backdrop-filter: blur(14px);
      z-index: 9999;
      box-shadow: var(--shadow);
      max-width:980px;
      margin:0 auto;
    }
    .navBtn{
      flex:1;
      border:1px solid transparent;
      background: transparent;
      color: var(--txt);
      padding:8px 6px;
      border-radius: 14px;
      display:flex; flex-direction:column; align-items:center; justify-content:center;
      gap:4px;
      cursor:pointer;
    }
    .navBtn.active{
      border-color: rgba(255,255,255,.18);
      background: rgba(255,255,255,.08);
    }
    .navIco{ font-size:18px; line-height:18px; }
    .navTxt{ font-size:11px; font-weight:900; opacity:.95; }

    .status{
      font-size:12px;
      color: var(--muted);
      border:1px solid var(--line);
      border-radius: 999px;
      padding:5px 10px;
      background: rgba(255,255,255,.05);
      width: fit-content;
    }

    .credit{
      margin-top:10px;
      font-size:12px;
      color: var(--muted);
      display:flex; gap:8px; flex-wrap:wrap;
      align-items:center;
    }
    .credit strong{ color: var(--txt); }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <div class="title">Air Calc Pro</div>
        <div class="sub">
          <span class="pill">Hospital + Residential</span>
          <span class="pill mono" id="statusTag">Loadingâ€¦</span>
        </div>
      </div>
      <div class="credit">
        <span>Â©</span>
        <strong>Ù…. ÙŠÙˆØ³Ù Ø§Ù„ Ù‡Ù…Ø§Ù…</strong>
        <span class="mono">yousef.alhammam@live.com</span>
      </div>
    </div>

    <!-- ===== TAB: CALC ===== -->
    <section id="tab-calc" class="tabPage active">
      <div class="card">
        <div class="h2" data-i18n="calc_title">Ø§Ù„Ø­Ø§Ø³Ø¨Ø©</div>
        <div class="muted" data-i18n="calc_hint">Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„ØºØ±ÙØ© + Ø£Ø¯Ø®Ù„ Ø­Ø¬Ù… Ø§Ù„ØºØ±ÙØ© (mÂ³) Ø«Ù… Ø§Ø¶ØºØ· â€œØ¥Ø¶Ø§ÙØ© ØºØ±ÙØ©â€. Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ØªØªØ±Ø§ÙƒÙ… ØªØ­Øª.</div>

        <div class="divider"></div>

        <div class="grid2">
          <div>
            <label data-i18n="room_type_lbl">Ù†ÙˆØ¹ Ø§Ù„ØºØ±ÙØ©</label>
            <select id="roomType"></select>
            <div class="muted" style="margin-top:6px" id="roomMeta">â€”</div>
          </div>

          <div class="grid">
            <div>
              <label data-i18n="vol_lbl">Ø­Ø¬Ù… Ø§Ù„ØºØ±ÙØ© (mÂ³)</label>
              <input id="roomVol" class="input" type="number" inputmode="decimal" placeholder="Ù…Ø«Ø§Ù„: 120" />
            </div>

            <div class="grid2">
              <div>
                <label data-i18n="offset_lbl">Offset % (ÙØ±Ù‚ Ø§Ù„Ø¶ØºØ· Ù„Ù„Ø­Ø³Ø§Ø¨)</label>
                <input id="offsetPct" class="input" type="number" inputmode="decimal" value="10" />
              </div>
              <div>
                <label data-i18n="thumb_lbl">Rule of Thumb (CFM/ton)</label>
                <select id="thumb">
                  <option value="350">350</option>
                  <option value="400" selected>400</option>
                  <option value="450">450</option>
                </select>
              </div>
            </div>

            <button id="btnAdd" class="btn btnPrimary" data-i18n="add_btn">Ø¥Ø¶Ø§ÙØ© ØºØ±ÙØ©</button>
          </div>
        </div>

        <div class="divider"></div>

        <div class="status" id="calcHint">Ø¬Ø§Ù‡Ø².</div>

        <div class="list" id="resultsList"></div>

        <div class="divider"></div>

        <div class="grid3">
          <div class="k">
            <div class="kk" data-i18n="sum_supply">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Supply</div>
            <div class="vv"><span id="sumSupply">0</span> <span class="uu">CFM</span></div>
          </div>
          <div class="k">
            <div class="kk" data-i18n="sum_exh">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Exhaust</div>
            <div class="vv"><span id="sumExh">0</span> <span class="uu">CFM</span></div>
          </div>
          <div class="k">
            <div class="kk" data-i18n="sum_tr">Ø¥Ø¬Ù…Ø§Ù„ÙŠ ØªÙ‚Ø¯ÙŠØ±ÙŠ TR</div>
            <div class="vv"><span id="sumTR">0</span> <span class="uu">TR</span></div>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== TAB: ROOMS ===== -->
    <section id="tab-rooms" class="tabPage">
      <div class="card">
        <div class="h2" data-i18n="rooms_title">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØºØ±Ù</div>
        <div class="muted" data-i18n="rooms_hint">Ø§Ø¨Ø­Ø« Ø¨Ø³Ø±Ø¹Ø© ÙˆØªØ£ÙƒØ¯ Ù…Ù† ACH Ù„ÙƒÙ„ ØºØ±ÙØ©.</div>

        <div class="divider"></div>

        <label data-i18n="search_lbl">Ø¨Ø­Ø«</label>
        <input id="roomSearch" class="input" placeholder="Ù…Ø«Ø§Ù„: Ù…Ø®ØªØ¨Ø± / OR / Patient ..." />

        <div class="list" id="roomsList" style="margin-top:10px"></div>
      </div>
    </section>

    <!-- ===== TAB: EXPORT ===== -->
    <section id="tab-export" class="tabPage">
      <div class="card">
        <div class="h2" data-i18n="export_title">ØªØµØ¯ÙŠØ± Ø§Ù„Ù†ØªØ§Ø¦Ø¬</div>
        <div class="muted" data-i18n="export_hint">ØªØµØ¯ÙŠØ± CSV (ÙŠÙØªØ­ Ù…Ø¨Ø§Ø´Ø±Ø© ÙÙŠ Excel).</div>

        <div class="divider"></div>

        <button id="btnExport" class="btn btnPrimary" data-i18n="export_btn">ØªØµØ¯ÙŠØ± CSV</button>
        <div class="muted" id="exportHint" style="margin-top:10px">â€”</div>
      </div>
    </section>

    <!-- ===== TAB: CONTACT ===== -->
    <section id="tab-contact" class="tabPage">
      <div class="card">
        <div class="h2" data-i18n="contact_title">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</div>
        <div class="divider"></div>

        <div class="k">
          <div class="kk" data-i18n="contact_name_lbl">Ø§Ù„Ø§Ø³Ù…</div>
          <div class="vv">Ù…. ÙŠÙˆØ³Ù Ø§Ù„ Ù‡Ù…Ø§Ù…</div>
        </div>

        <div class="divider"></div>

        <div class="grid2">
          <div class="k">
            <div class="kk" data-i18n="contact_email_lbl">Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„</div>
            <div class="vv mono">yousef.alhammam@live.com</div>
          </div>
          <div class="k">
            <div class="kk" data-i18n="contact_phone_lbl">Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„</div>
            <div class="vv mono">Ù Ù¥Ù¦Ù Ù¢Ù¨Ù¢Ù§Ù Ù¡</div>
          </div>
        </div>

        <div class="divider"></div>

        <div class="muted" data-i18n="contact_note">Ù„Ù„Ø¥Ù‚ØªØ±Ø§Ø­Ø§Øª Ø£Ùˆ ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…Ø¹Ø§ÙŠÙŠØ± Ø¯Ø§Ø®Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ØªÙˆØ§ØµÙ„ Ù…Ø¹ÙŠ.</div>
      </div>
    </section>

    <!-- ===== TAB: SETTINGS ===== -->
    <section id="tab-settings" class="tabPage">
      <div class="card">
        <div class="h2" data-i18n="settings_title">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</div>
        <div class="muted" data-i18n="settings_hint">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨Ø³ÙŠØ·Ø© Ù„Ù„Ø¹Ø±Ø¶.</div>

        <div class="divider"></div>

        <div class="grid2">
          <div>
            <label data-i18n="lang_lbl">Ø§Ù„Ù„ØºØ©</label>
            <select id="langSel">
              <option value="ar" selected>Ø¹Ø±Ø¨ÙŠ</option>
              <option value="en">English</option>
            </select>
          </div>

          <div>
            <label data-i18n="pressure_mode_lbl">Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¶ØºØ· Offset</label>
            <select id="pressureMode">
              <option value="on" selected data-i18n="on_opt">ØªØ´ØºÙŠÙ„</option>
              <option value="off" data-i18n="off_opt">Ø¥ÙŠÙ‚Ø§Ù</option>
            </select>
          </div>
        </div>

        <div class="divider"></div>

        <div class="k">
          <div class="kk" data-i18n="tip_lbl">Ù†ØµÙŠØ­Ø©</div>
          <div class="muted" data-i18n="tip_txt">Ø¥Ø°Ø§ Ø¹Ø¯Ù„Øª data.json Ø¹Ù„Ù‰ GitHub: Ù„Ø§Ø²Ù… ØªØ­Ø¯Ø« Ø§Ù„ØµÙØ­Ø© (Refresh) Ø£Ùˆ Ø§Ù…Ø³Ø­ ÙƒØ§Ø´ Ø§Ù„Ù…ØªØµÙØ­/Ø§Ù„ØªØ·Ø¨ÙŠÙ‚.</div>
        </div>
      </div>
    </section>
  </div>

  <!-- Bottom Nav (Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨: Ø§Ù„Ø­Ø§Ø³Ø¨Ø© / Ø§Ù„ØºØ±Ù / ØªØµØ¯ÙŠØ± / ØªÙˆØ§ØµÙ„ / Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª) -->
  <nav class="bottomNav" role="navigation" aria-label="Air Calc Pro navigation">
    <button class="navBtn active" data-tab="tab-calc" aria-label="Calculator">
      <span class="navIco">ğŸ§®</span><span class="navTxt" data-navkey="calc">Ø§Ù„Ø­Ø§Ø³Ø¨Ø©</span>
    </button>

    <button class="navBtn" data-tab="tab-rooms" aria-label="Rooms">
      <span class="navIco">ğŸ¥</span><span class="navTxt" data-navkey="rooms">Ø§Ù„ØºØ±Ù</span>
    </button>

    <button class="navBtn" data-tab="tab-export" aria-label="Export">
      <span class="navIco">â¬‡ï¸</span><span class="navTxt" data-navkey="export">ØªØµØ¯ÙŠØ±</span>
    </button>

    <button class="navBtn" data-tab="tab-contact" aria-label="Contact">
      <span class="navIco">ğŸ“©</span><span class="navTxt" data-navkey="contact">ØªÙˆØ§ØµÙ„</span>
    </button>

    <button class="navBtn" data-tab="tab-settings" aria-label="Settings">
      <span class="navIco">âš™ï¸</span><span class="navTxt" data-navkey="settings">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</span>
    </button>
  </nav>

  <script src="app.js"></script>
</body>
</html>