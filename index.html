<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Air Calc Pro</title>

  <link rel="manifest" href="./manifest.webmanifest?v=1" />
  <meta name="theme-color" content="#0b1220" />

  <link rel="stylesheet" href="./styles.css?v=1" />
</head>

<body>
  <header class="top">
    <h1>Air Calc Pro</h1>
    <p class="sub">حاسبة التهوية (ACH / CFM) — مستشفى + منازل</p>
  </header>

  <main class="card">
    <label class="lbl" for="roomType">نوع الغرفة (ASHRAE)</label>
    <select id="roomType">
      <option value="" selected disabled>جاري تحميل البيانات…</option>
    </select>

    <label class="lbl" for="roomName">اسم الغرفة (اختياري)</label>
    <input id="roomName" type="text" placeholder="مثال: Isolation Room 1.3.2.1" />

    <label class="lbl" for="volume">حجم الغرفة (m³)</label>
    <input id="volume" type="number" inputmode="decimal" placeholder="مثال: 60" />

    <div class="row">
      <div>
        <label class="lbl" for="pressureOffset">Pressure Offset (%)</label>
        <input id="pressureOffset" type="number" inputmode="decimal" value="0" />
      </div>
      <div>
        <label class="lbl" for="ruleOfThumb">Rule of Thumb (CFM/TR)</label>
        <input id="ruleOfThumb" type="number" inputmode="decimal" value="400" />
      </div>
    </div>

    <label class="lbl" for="outdoorOverride">Outdoor Air Override (ACH) — اختياري</label>
    <input id="outdoorOverride" type="number" inputmode="decimal" placeholder="اتركه فاضي للتطبيق المرجع" />

    <hr class="sep" />

    <div class="hint">(اختياري) قراءة ميدانية لنفس الغرفة</div>

    <label class="lbl" for="measuredAirflow">Measured Airflow (CFM)</label>
    <input id="measuredAirflow" type="number" inputmode="decimal" placeholder="مثال: 313" />

    <label class="lbl" for="measuredPressure">Measured Pressure (Pa)</label>
    <input id="measuredPressure" type="number" inputmode="decimal" placeholder="مثال: -10" />

    <label class="lbl" for="measuredTemp">Measured Temp (°C)</label>
    <input id="measuredTemp" type="number" inputmode="decimal" placeholder="مثال: 20.6" />

    <label class="lbl" for="measuredRH">Measured RH (%)</label>
    <input id="measuredRH" type="number" inputmode="decimal" placeholder="مثال: 55" />

    <div class="actions">
      <button id="calcBtn" class="btn">احسب</button>
      <button id="resetBtn" class="btn ghost">مسح</button>
    </div>

    <section class="results" id="results" aria-live="polite">
      <div class="resultRow">
        <div class="k">ACH المرجعي</div>
        <div class="v" id="achOut">—</div>
      </div>
      <div class="resultRow">
        <div class="k">CFM المطلوب</div>
        <div class="v" id="cfmOut">—</div>
      </div>
      <div class="resultRow">
        <div class="k">مكافئ TR (تقريبي)</div>
        <div class="v" id="trOut">—</div>
      </div>
      <div class="resultRow">
        <div class="k">Pressure Offset المقترح</div>
        <div class="v" id="pOut">—</div>
      </div>
      <div class="note" id="noteOut"></div>
    </section>

    <footer class="foot">
      <span id="status">جاهز</span>
    </footer>
  </main>

  <script src="./app.js?v=1" defer></script>
</body>
</html>